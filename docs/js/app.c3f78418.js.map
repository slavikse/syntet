{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/Snake.vue?d7b7","webpack:///./src/App.vue?bcec","webpack:///./src/App.vue?6740","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue","webpack:///./src/TicTacToe/TicTacToe.vue?180c","webpack:///./src/TicTacToe/victoryCheckGroups/horizontalGroup.js","webpack:///./src/TicTacToe/victoryCheckGroups/verticalGroup.js","webpack:///./src/TicTacToe/victoryCheckGroups/obliquelyGroup.js","webpack:///src/TicTacToe/TicTacToe.vue","webpack:///./src/TicTacToe/TicTacToe.vue?9b28","webpack:///./src/TicTacToe/TicTacToe.vue","webpack:///./src/Square.vue?8823","webpack:///src/Square.vue","webpack:///./src/Square.vue?c5c7","webpack:///./src/Square.vue","webpack:///./src/Snake.vue?45f0","webpack:///src/Snake.vue","webpack:///./src/Snake.vue?a8b9","webpack:///./src/Snake.vue","webpack:///./src/main.js","webpack:///./src/TicTacToe/TicTacToe.vue?e45d","webpack:///./src/Square.vue?1800"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","on","$event","stopPropagation","staticRenderFns","previousRouteName","localStorage","getItem","watch","$route","to","meta","isReload","setItem","location","reload","component","_s","victories","X","O","trainingGames","duelGames","timer","Math","round","_l","agents","concat","agent","agentIndex","sign","cellIndex","class","alive","isAlive","victory","isVictory","duel","victoriesStatus","_m","AIvsHuman","setHumanSign","isDuel","AIvsHumanReset","saveModelsOnPC","localStorageClear","restoreModelsFromGitHub","horizontalGroup","field","success","verticalGroup","start","step","iSave","obliquelyGroup","modelX","modelO","trainingCount","training","fieldSize","timeTraining","rewards","methods","restoreFromLocalStorage","JSON","parse","setupModel","model","add","inputShape","activation","units","compile","optimizer","loss","agentsSetting","setTimer","setTimeout","saveInLocalStorage","stringify","increasingInterest","isWinner","bestReward","signNextTurn","isOtherWinner","interestReward","getStepInput","recalculateRewards","map","reward","index","basicReward","worstReward","determineWinner","saveTraining","inputs","input","labels","label","trafficLights","type","cell","stepReward","lossReward","trainingReset","clear","alives","generation","ref","indexOf","_k","keyCode","handleJumpTop","button","handleJumpRight","handleJumpBottom","handleJumpLeft","cellValue","available","_e","investigatedMaximumCellValue","maximumCellValue","actor","id","style","gridRow","y","gridColumn","x","refInFor","learning","isDisplayingActors","actors","actorsCount","rate","metrics","fieldSetting","sqrt","max","$refs","container","setProperty","actorsReset","getRandomPredict","getDirectionStep","jumpRight","maximum","action","jumpBottom","jumpLeft","jumpTop","getAntennaCellValues","getBestMoves","forEach","firstCellValue","fiveCellValue","fourCellValue","thirdCellValue","secondCellValue","fiveIndex","fourIndex","thirdIndex","secondIndex","firstIndex","firstInput","firstLabel","secondInput","secondLabel","thirdInput","thirdLabel","fourInput","fourLabel","fiveInput","fiveLabel","maximumStepsCount","stepsCount","lives","values","color","colorHead","stats","maxApples","row","rowIndex","backgroundColor","KeyW","KeyD","KeyS","KeyA","0","1","2","3","stepTop","stepRight","stepBottom","stepLeft","center","topLeft","topRight","bottomRight","bottomLeft","fieldDefault","human","side","actorsColors","colorTail","cells","Array","numberSides","fill","actorsDefault","stepsCountMultiplier","everyLives","apples","isDevelopment","isRunning","mounted","incrementTimer","initialField","initialApples","initialActors","initialStats","autoStep","addEventListener","handleKeys","destroyed","removeEventListener","isBarrier","barrierColor","basicColor","addApple","coords","appleColor","resetActors","resetRewards","resetStats","chooseActorsPosition","clearTail","stepTail","stepHead","position","nextCell","barriersColors","includes","nextColor","preserveExperience","gameOver","growth","applyNextCell","appleFit","cellHead","cancelAnimationFrame","nextFrameId","clearTimeout","modelFit","assessment","keys","sidesIndex","terribleReward","goodReward","getDippedAppleReward","actorHead","estimateNumberMoves","appleReward","distanceToApple","badReward","whichSidesOfApples","apple","appleOnAxisX","appleTop","appleBottom","appleOnAxisY","appleRight","appleLeft","appleBelowAxisY","appleTopLeft","appleTopRight","appleAboveAxisY","appleBottomRight","appleBottomLeft","isFitting","Promise","all","Vue","use","VueRouter","config","productionTip","silent","process","render","h","App","router","routes","path","redirect","TicTacToe","Square","Snake","$mount"],"mappings":"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","file":"js/app.c3f78418.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Snake.vue?vue&type=style&index=0&id=3d30464a&lang=scss&scoped=true&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Snake.vue?vue&type=style&index=0&id=3d30464a&lang=scss&scoped=true&\"","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&id=6bbdaab8&lang=scss&scoped=true&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&id=6bbdaab8&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"App\"},[_c('div',{staticClass:\"routers\"},[_c('div',{staticClass:\"title\"},[_vm._v(\" ПРОЕКТЫ \")]),_c('div',{staticClass:\"buttons\"},[_c('router-link',{staticClass:\"route\",attrs:{\"to\":{ name: 'TicTacToe' }}},[_vm._v(\" Крестики нолики \"),_c('span',[_vm._v(\"(Завершён)\")]),_c('a',{staticClass:\"link\",attrs:{\"href\":\"https://habr.com/ru/post/505574\",\"target\":\"_blank\"},on:{\"click\":function($event){$event.stopPropagation();}}},[_vm._v(\" _Статья__ \")])]),_c('router-link',{staticClass:\"route\",attrs:{\"to\":{ name: 'Square' }}},[_vm._v(\" Квадрат в лабиринте \"),_c('span',[_vm._v(\"(Завершён)\")]),_c('a',{staticClass:\"link\",attrs:{\"href\":\"https://habr.com/ru/post/452612\",\"target\":\"_blank\"},on:{\"click\":function($event){$event.stopPropagation();}}},[_vm._v(\" _Статья__ \")])]),_c('router-link',{staticClass:\"route\",attrs:{\"to\":{ name: 'Snake' }}},[_vm._v(\" Змейка \"),_c('span',[_vm._v(\"(В разработке)\")])])],1)]),_c('router-view')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"App\">\n    <div class=\"routers\">\n      <div class=\"title\">\n        ПРОЕКТЫ\n      </div>\n\n      <div class=\"buttons\">\n        <router-link\n          :to=\"{ name: 'TicTacToe' }\"\n          class=\"route\"\n        >\n          Крестики нолики <span>(Завершён)</span>\n\n          <a\n            href=\"https://habr.com/ru/post/505574\"\n            target=\"_blank\"\n            class=\"link\"\n            @click.stop\n          >\n            _Статья__\n          </a>\n        </router-link>\n\n        <router-link\n          :to=\"{ name: 'Square' }\"\n          class=\"route\"\n        >\n          Квадрат в лабиринте <span>(Завершён)</span>\n\n          <a\n            href=\"https://habr.com/ru/post/452612\"\n            target=\"_blank\"\n            class=\"link\"\n            @click.stop\n          >\n            _Статья__\n          </a>\n        </router-link>\n\n        <router-link\n          :to=\"{ name: 'Snake' }\"\n          class=\"route\"\n        >\n          Змейка <span>(В разработке)</span>\n        </router-link>\n\n        <!--\n        <router-link\n          :to=\"{ name: 'Puppet' }\"\n          class=\"route\"\n        >\n          Марионетка <span>(В разработке)</span>\n        </router-link>\n\n        <router-link\n          :to=\"{ name: 'CartPole' }\"\n          class=\"route\"\n        >\n          Тележка <span>(В разработке)</span>\n        </router-link>\n\n        <router-link\n          :to=\"{ name: 'Bird' }\"\n          class=\"route\"\n        >\n          Птица <span>(Приостановлен)</span>\n        </router-link>\n\n        <router-link\n          :to=\"{ name: 'Manipulator' }\"\n          class=\"route\"\n        >\n          Манипулятор <span>(Приостановлен)</span>\n        </router-link>\n        -->\n      </div>\n    </div>\n\n    <router-view />\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'App',\n\n  data() {\n    return {\n      previousRouteName: localStorage.getItem('previousRouteName'),\n    };\n  },\n\n  watch: {\n    $route(to) {\n      if (to.meta.isReload && to.name !== this.previousRouteName) {\n        localStorage.setItem('previousRouteName', to.name);\n        window.location.reload();\n      }\n    },\n  },\n};\n</script>\n\n<style\n  lang=\"scss\"\n  scoped\n>\n.App {\n  height: 100vh;\n}\n\n.title {\n  margin-bottom: 10px;\n  font-weight: bold;\n  font-size: 20px;\n}\n\n.routers {\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 1;\n  padding: 10px;\n  color: gray;\n\n  .route {\n    margin-top: 5px;\n    color: gray;\n    text-decoration: none;\n\n    &:visited {\n      color: gray;\n    }\n\n    &.router-link-exact-active {\n      font-weight: bold;\n    }\n\n    .link {\n      color: white;\n\n      &:visited {\n        color: white;\n      }\n    }\n  }\n\n  .route span {\n    font-size: 13px;\n    color: dimgray;\n  }\n}\n\n.buttons {\n  display: flex;\n  flex-direction: column;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=6bbdaab8&scoped=true&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=6bbdaab8&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6bbdaab8\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"TicTacToe\"},[_c('div',{staticClass:\"stat\"},[_c('div',{staticClass:\"title\"},[_c('span',[_vm._v(\"Победы в соревнованиях:\")]),_c('span',{staticClass:\"X\"},[_vm._v(\" X \")]),_c('span',{staticClass:\"victory\"},[_vm._v(\" \"+_vm._s(_vm.victories.X)+\" \")]),_vm._v(\" ˑ \"),_c('span',{staticClass:\"O\"},[_vm._v(\" O \")]),_c('span',{staticClass:\"victory\"},[_vm._v(\" \"+_vm._s(_vm.victories.O)+\" \")])]),_c('div',{staticClass:\"description\"},[_vm._v(\" Количество тренировок и соревнований: \"+_vm._s(_vm.trainingGames + _vm.duelGames)+\" \")]),_c('div',{staticClass:\"timer\"},[_vm._v(\" Время обучения: \"+_vm._s(_vm.timer)+\" секунд (~\"+_vm._s(Math.round(_vm.timer / 60))+\" минут) \")])]),_c('div',{staticClass:\"fields-container\"},[_c('div',{staticClass:\"fields\"},_vm._l((_vm.agents.X.concat(_vm.agents.O)),function(agent,agentIndex){return _c('div',{key:agentIndex,staticClass:\"field\"},[_vm._l((agent.field),function(sign,cellIndex){return _c('div',{key:(agentIndex + \":\" + cellIndex),class:['cell', {\n            sign: sign,\n            alive: agent.isAlive,\n            victory: agent.isVictory,\n          }]},[_vm._v(\" \"+_vm._s(sign)+\" \")])}),_c('div',{staticClass:\"caption\"},[_vm._v(\" Поле игрока: \"+_vm._s(agent.sign)+\" \")])],2)}),0),_c('div',{staticClass:\"duel-field\"},[_vm._l((_vm.duel.field),function(sign,cellIndex){return _c('div',{key:cellIndex,class:['cell', sign, { victory: _vm.victoriesStatus[sign] }]},[_vm._v(\" \"+_vm._s(sign)+\" \")])}),_c('div',{staticClass:\"caption\"},[_vm._v(\" Поле для соревнований \")])],2)]),_vm._m(0),_c('div',{staticClass:\"ai-vs-human-container\"},[_c('div',{staticClass:\"result\"},[_c('span',{staticClass:\"X\"},[_vm._v(\" X \")]),_c('span',{class:[_vm.AIvsHuman.victories.X >= 0 ? 'success' : 'loss']},[_vm._v(\" \"+_vm._s(_vm.AIvsHuman.victories.X)+\" \")]),_vm._v(\" ˑ \"),_c('span',{staticClass:\"O\"},[_vm._v(\" O \")]),_c('span',{class:[_vm.AIvsHuman.victories.O >= 0 ? 'success' : 'loss']},[_vm._v(\" \"+_vm._s(_vm.AIvsHuman.victories.O)+\" \")])]),_c('div',{staticClass:\"caption\"},[_vm._v(\" Человек против AI \")]),_c('div',{staticClass:\"field\"},_vm._l((_vm.AIvsHuman.field),function(sign,cellIndex){return _c('div',{key:cellIndex,class:['cell', sign, { victory: _vm.victoriesStatus[sign] }],on:{\"click\":function($event){return _vm.setHumanSign(cellIndex)}}},[_vm._v(\" \"+_vm._s(sign)+\" \")])}),0),_c('button',{class:['resume', 'button', { 'is-duel': _vm.AIvsHuman.isDuel }],on:{\"click\":_vm.AIvsHumanReset}},[_vm._v(\" Продолжить обучение \")]),_c('div',{staticClass:\"models-controller\"},[_c('div',{staticClass:\"button-container\"},[_c('button',{staticClass:\"button\",on:{\"click\":_vm.saveModelsOnPC}},[_vm._v(\" Сохранить модели на компьютер \")])]),_c('div',{staticClass:\"button-container\"},[_c('button',{staticClass:\"button\",on:{\"click\":_vm.localStorageClear}},[_vm._v(\" Очистить локальное хранилище \")])]),_c('div',{staticClass:\"button-container\"},[_c('button',{staticClass:\"button\",on:{\"click\":_vm.restoreModelsFromGitHub}},[_vm._v(\" Ввести модели из GitHub \")])])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"fields-description\"},[_c('div',[_vm._v(\"9 игр - игроки на своих полях учатся играть, 1 игра - соревнование.\")]),_c('br'),_c('b',[_vm._v(\"Начать игру с AI можно поставив знак на поле ниже - обучение приостановится.\")])])}]\n\nexport { render, staticRenderFns }","/* eslint-disable no-plusplus */\n\n// Самая проставя группа для проверки выигрыша.\n// Проверяется простановка игроком всех ячеек в каждом из 3х наборов.\n\n// Выигрышные наборы для первой группы:\n//  1.  2.  3.\n// XXX *** ***\n// *** XXX ***\n// *** *** XXX\nexport default function horizontalGroup({ field, sign }) {\n  // Будет равен 3, если нужные ячейки равны знаку игрока,\n  // в этом случае, победа засчитывается за этим игроком.\n  let success = 0;\n\n  // Разделение на наборы по 3 ячейки подряд.\n  // Достигнута 3 ячейка по горизонтали - переходит на следующий набор.\n  for (let i = 0; i < field.length; i++) {\n    // Если ячейка - текущего игрока, то засчитывается очко.\n    // Для победы нужно 3 очка для одного из наборов, в случае,\n    // если не равны, то не имеет смысла проверять дальше,\n    // нужно переходить в следующий набор.\n    if (field[i] === sign) {\n      success += 1;\n    } else {\n      success = 0;\n\n      // В следующей ячейке не текущий знак - переход на следующий набор,\n      // пока не получим 3 для +1 элемента, а на выходе из цикла\n      // индекс будет началом для следующего набора.\n      // Примеры: 2 % 3 === 2, 3 % 3 === 0 | 5 % 3 === 5, 6 % 3 === 0\n      while ((i % 3) + 1 !== 3) {\n        i += 1;\n      }\n    }\n\n    // С 3 очками, игрок выходит победителем.\n    if (success === 3) {\n      return true;\n    }\n  }\n\n  // Переход на следующую группу для проверки победы.\n  return false;\n}\n","/* eslint-disable no-plusplus */\n\n// Группа усложнена тем, что знаки расположены во всех 3х наборах.\n// Знак игрока проверяется в каждом из 3х наборов в той же вертикали.\n\n// Выигрышные наборы для второй группы:\n//  1.  2.  3.\n// X** *X* **X\n// X** *X* **X\n// X** *X* **X\n\n// Принимает сдвиги, что позволило объединиться с 3 выигрышным набором.\nexport default function verticalGroup({ field, sign, start, step }) {\n  // Будет равен 3, если нужные ячейки равны знаку игрока,\n  // в этом случае, победа засчитывается за этим игроком.\n  let success = 0;\n  // Сохранение позиции для найденного совпадения,\n  // когда нужно будет продолжить поиск в следующем наборе.\n  let iSave = 0;\n\n  // Разделение на наборы по 3 ячейки (каждая по 3).\n  // Достигнута 3 ячейка (вертикаль) - переходит на следующий набор.\n  // Для победы нужны совпадения 3х ячеек в 3х наборах на тех же позициях.\n  for (let i = start; i < field.length; i++) {\n    // Сброс совпадений при переходе на вне групповую ячейку.\n    // Каждая 3 ячейка (вертикаль) начиная с самой первой - нулевой.\n    if (field[i] === sign) {\n      success += 1;\n\n      // Защита от переполнения в процессе проверки всех ячеек в группе.\n      // Для возможности вернуться на эту позицию для продолжения поиска,\n      // когда ячейка принадлежала игроку в предыдущий совпавший раз.\n      if (success === 1) {\n        iSave = i;\n      }\n\n      // Переход к следующей группе (вертикаль).\n      // Еще +1 даст инкремент цикла.\n      i += step;\n    } else {\n      // Ранее было найдено совпадение, но для этого знака - его нет.\n      if (success !== 0) {\n        // Возврат на сохраненную позицию - первого найденного совпадения.\n        i = iSave;\n      }\n\n      success = 0;\n\n      // Выходит из итерации - дошел до последнего набора (вертикаль).\n      if (i === 2) {\n        break;\n      }\n    }\n\n    // С 3 очками, игрок выходит победителем.\n    if (success === 3) {\n      return true;\n    }\n  }\n\n  // Переход на следующую группу для проверки победы.\n  return false;\n}\n","import verticalGroup from './verticalGroup';\n\n// Выигрышные наборы для третьей группы:\n//  1.  2.\n// X** **X\n// *X* *X*\n// **X X**\n\n// Проверка 1 и 2 наборов.\nexport default function obliquelyGroup({ field, sign }) {\n  return verticalGroup({ field, sign, start: 0, step: 3 })\n    || verticalGroup({ field, sign, start: 2, step: 1 });\n}\n","<template>\n  <div class=\"TicTacToe\">\n    <div class=\"stat\">\n      <div class=\"title\">\n        <span>Победы в соревнованиях:</span>\n\n        <span class=\"X\">\n          X\n        </span>\n\n        <span class=\"victory\">\n          {{ victories.X }}\n        </span>\n        ˑ\n        <span class=\"O\">\n          O\n        </span>\n\n        <span class=\"victory\">\n          {{ victories.O }}\n        </span>\n      </div>\n\n      <div class=\"description\">\n        Количество тренировок и соревнований: {{ trainingGames + duelGames }}\n      </div>\n\n      <div class=\"timer\">\n        Время обучения: {{ timer }} секунд (~{{ Math.round(timer / 60) }} минут)\n      </div>\n    </div>\n\n    <div class=\"fields-container\">\n      <div class=\"fields\">\n        <div\n          v-for=\"(agent, agentIndex) in agents.X.concat(agents.O)\"\n          :key=\"agentIndex\"\n          class=\"field\"\n        >\n          <div\n            v-for=\"(sign, cellIndex) in agent.field\"\n            :key=\"`${agentIndex}:${cellIndex}`\"\n            :class=\"['cell', {\n              sign,\n              alive: agent.isAlive,\n              victory: agent.isVictory,\n            }]\"\n          >\n            {{ sign }}\n            <!--{{ agent.rewards[cellIndex].toFixed(1) }}-->\n          </div>\n\n          <div class=\"caption\">\n            Поле игрока: {{ agent.sign }}\n          </div>\n        </div>\n      </div>\n\n      <div class=\"duel-field\">\n        <div\n          v-for=\"(sign, cellIndex) in duel.field\"\n          :key=\"cellIndex\"\n          :class=\"['cell', sign, { victory: victoriesStatus[sign] }]\"\n        >\n          {{ sign }}\n        </div>\n\n        <div class=\"caption\">\n          Поле для соревнований\n        </div>\n      </div>\n    </div>\n\n    <div class=\"fields-description\">\n      <div>9 игр - игроки на своих полях учатся играть, 1 игра - соревнование.</div>\n      <br>\n      <b>Начать игру с AI можно поставив знак на поле ниже - обучение приостановится.</b>\n    </div>\n\n    <div class=\"ai-vs-human-container\">\n      <div class=\"result\">\n        <span class=\"X\">\n          X\n        </span>\n\n        <span :class=\"[AIvsHuman.victories.X >= 0 ? 'success' : 'loss']\">\n          {{ AIvsHuman.victories.X }}\n        </span>\n        ˑ\n        <span class=\"O\">\n          O\n        </span>\n\n        <span :class=\"[AIvsHuman.victories.O >= 0 ? 'success' : 'loss']\">\n          {{ AIvsHuman.victories.O }}\n        </span>\n      </div>\n\n      <div class=\"caption\">\n        Человек против AI\n      </div>\n\n      <div class=\"field\">\n        <div\n          v-for=\"(sign, cellIndex) in AIvsHuman.field\"\n          :key=\"cellIndex\"\n          :class=\"['cell', sign, { victory: victoriesStatus[sign] }]\"\n          @click=\"setHumanSign(cellIndex)\"\n        >\n          {{ sign }}\n        </div>\n      </div>\n\n      <button\n        :class=\"['resume', 'button', { 'is-duel': AIvsHuman.isDuel }]\"\n        @click=\"AIvsHumanReset\"\n      >\n        Продолжить обучение\n      </button>\n\n      <div class=\"models-controller\">\n        <div class=\"button-container\">\n          <button\n            class=\"button\"\n            @click=\"saveModelsOnPC\"\n          >\n            Сохранить модели на компьютер\n          </button>\n        </div>\n\n        <div class=\"button-container\">\n          <button\n            class=\"button\"\n            @click=\"localStorageClear\"\n          >\n            Очистить локальное хранилище\n          </button>\n        </div>\n\n        <div class=\"button-container\">\n          <button\n            class=\"button\"\n            @click=\"restoreModelsFromGitHub\"\n          >\n            Ввести модели из GitHub\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport * as tf from '@tensorflow/tfjs';\nimport * as hasVictory from './victoryCheckGroups';\n\nconst isAutomatic = true;\nconst isDuel = true;\nconst isDelay = false;\n\nconst worstReward = -1.0;\nconst lossReward = -0.4;\nconst basicReward = 0.1;\nconst stepReward = 0.2;\nconst interestReward = 0.5;\nconst bestReward = 1.0;\n\nconst mountedIndex = 11;\n\nexport default {\n  name: 'TicTacToe',\n\n  data() {\n    return {\n      modelX: tf.sequential(),\n      modelO: tf.sequential(),\n      trainingCount: { X: 0, O: 0 },\n      training: {\n        X: { inputs: [], labels: [] },\n        O: { inputs: [], labels: [] },\n      },\n      agents: { X: [], O: [] },\n      victories: { X: 0, O: 0 },\n      victoriesStatus: { X: false, O: false },\n\n      fieldSize: 9,\n      step: 1,\n      trainingGames: 1,\n\n      timer: 0,\n      timeTraining: 5 * 60,\n\n      isDuel: false,\n      duel: {\n        step: 1,\n        field: [\n          '', '', '',\n          '', '', '',\n          '', '', '',\n        ],\n      },\n      duelGames: 1,\n\n      AIvsHuman: {\n        isDuel: false,\n        step: 1,\n        victories: { X: 0, O: 0 },\n        rewards: [\n          0.1, 0.1, 0.1,\n          0.1, 0.1, 0.1,\n          0.1, 0.1, 0.1,\n        ],\n        field: [\n          '', '', '',\n          '', '', '',\n          '', '', '',\n        ],\n      },\n    };\n  },\n\n  async mounted() {\n    console.log(mountedIndex);\n\n    const timer = JSON.parse(localStorage.getItem('syntet_TicTacToe_timer'));\n\n    if (timer) {\n      this.timer = timer;\n      this.restoreFromLocalStorage();\n\n      const [modelX, modelO] = await Promise.all([\n        tf.loadLayersModel('localstorage://syntet_TicTacToe_model_X'),\n        tf.loadLayersModel('localstorage://syntet_TicTacToe_model_O'),\n      ]);\n\n      localStorage.clear();\n\n      modelX.compile({\n        optimizer: 'adam',\n        loss: 'meanSquaredError',\n      });\n\n      modelO.compile({\n        optimizer: 'adam',\n        loss: 'meanSquaredError',\n      });\n\n      this.modelX = modelX;\n      this.modelO = modelO;\n    } else {\n      this.setupModel({ model: this.modelX });\n      this.setupModel({ model: this.modelO });\n    }\n\n    this.agentsSetting({ sign: 'X' });\n    this.agentsSetting({ sign: 'O' });\n\n    this.setTimer();\n\n    if (isAutomatic) {\n      this.gameLoop();\n    }\n  },\n\n  methods: {\n    restoreFromLocalStorage() {\n      this.trainingCount = JSON.parse(localStorage.getItem('syntet_TicTacToe_trainingCount'));\n      this.victories = JSON.parse(localStorage.getItem('syntet_TicTacToe_victories'));\n      this.trainingGames = JSON.parse(localStorage.getItem('syntet_TicTacToe_trainingGames'));\n      this.duelGames = JSON.parse(localStorage.getItem('syntet_TicTacToe_duelGames'));\n      this.AIvsHuman.victories = JSON.parse(localStorage.getItem('syntet_TicTacToe_AIvsHuman_victories'));\n    },\n\n    setupModel({ model }) {\n      model.add(tf.layers.dense({\n        // +1 - Количество ходов.\n        inputShape: [this.fieldSize + 1],\n        activation: 'sigmoid',\n        units: 128,\n      }));\n\n      // model.add(tf.layers.dense({\n      //   activation: 'sigmoid',\n      //   units: 32,\n      // }));\n\n      model.add(tf.layers.dense({\n        activation: 'sigmoid',\n        units: this.fieldSize,\n      }));\n\n      model.compile({\n        optimizer: 'adam',\n        loss: 'meanSquaredError',\n      });\n    },\n\n    agentsSetting({ sign }) {\n      this.agents[sign] = [\n        {\n          sign,\n          isAlive: true,\n          isVictory: false,\n          rewards: [\n            0.1, 0.1, 0.1,\n            0.1, 0.1, 0.1,\n            0.1, 0.1, 0.1,\n          ],\n          field: [\n            '', '', '',\n            '', '', '',\n            '', '', '',\n          ],\n        },\n      ];\n    },\n\n    setTimer() {\n      setTimeout(this.setTimer, 1000);\n      this.timer += 1;\n    },\n\n    async gameLoop() {\n      if (this.AIvsHuman.isDuel) {\n        this.agentsSetting({ sign: 'X' });\n        this.agentsSetting({ sign: 'O' });\n\n        await new Promise((resolve) => setTimeout(resolve, 300));\n        this.gameLoop();\n        return;\n      }\n\n      if (this.isDuel && isDuel) {\n        await this.startDuel();\n        this.duelGames += 1;\n      } else {\n        this.isDuel = this.trainingGames % this.fieldSize === 0;\n\n        await this.startTraining();\n        this.trainingGames += 1;\n      }\n\n      if (isDelay) {\n        await new Promise((resolve) => setTimeout(resolve, 300));\n      }\n\n      if (this.timer !== 0 && this.timer % this.timeTraining === 0) {\n        this.saveInLocalStorage();\n        await this.saveModelsLocal();\n\n        // Высвобождение ресурсов, чтобы не зависала вкладка.\n        window.location.reload();\n      }\n\n      this.gameLoop();\n    },\n\n    saveInLocalStorage() {\n      localStorage.setItem('syntet_TicTacToe_timer', JSON.stringify(this.timer));\n      localStorage.setItem('syntet_TicTacToe_trainingCount', JSON.stringify(this.trainingCount));\n      localStorage.setItem('syntet_TicTacToe_victories', JSON.stringify(this.victories));\n      localStorage.setItem('syntet_TicTacToe_trainingGames', JSON.stringify(this.trainingGames));\n      localStorage.setItem('syntet_TicTacToe_duelGames', JSON.stringify(this.duelGames));\n      localStorage.setItem('syntet_TicTacToe_AIvsHuman_victories', JSON.stringify(this.AIvsHuman.victories));\n    },\n\n    async saveModelsLocal() {\n      await this.modelX.save('localstorage://syntet_TicTacToe_model_X');\n      await this.modelO.save('localstorage://syntet_TicTacToe_model_O');\n    },\n\n    async startDuel() {\n      let taskCount = 2;\n\n      await new Promise((resolve) => {\n        const agents = this.agents.X.filter(({ isAlive }) => isAlive);\n        let count = agents.length;\n\n        if (count > 0) {\n          agents.forEach(async (agent) => {\n            await this.modelPredict({ model: this.modelX, agent });\n            count -= 1;\n\n            if (count === 0) {\n              resolve();\n            }\n          });\n        } else {\n          taskCount -= 1;\n          resolve();\n        }\n      });\n\n      await new Promise((resolve) => {\n        const agents = this.agents.O.filter(({ isAlive }) => isAlive);\n        let count = agents.length;\n\n        if (count > 0) {\n          agents.forEach(async (agent) => {\n            await this.modelPredict({ model: this.modelO, agent });\n            count -= 1;\n\n            if (count === 0) {\n              resolve();\n            }\n          });\n        } else {\n          taskCount -= 1;\n          resolve();\n        }\n      });\n\n      if (taskCount === 2) {\n        this.duel.step = this.fieldSize;\n      }\n\n      if (this.duel.step === this.fieldSize) {\n        await Promise.all([\n          this.modelFit({ model: this.modelX, sign: 'X' }),\n          this.modelFit({ model: this.modelO, sign: 'O' }),\n        ]);\n\n        this.isDuel = false;\n\n        this.duel = {\n          step: 1,\n          field: [\n            '', '', '',\n            '', '', '',\n            '', '', '',\n          ],\n        };\n      } else {\n        this.duel.step += 1;\n      }\n    },\n\n    // Знаки обучаются ходить.\n    async startTraining() {\n      const tasks = this.agents.X.filter(({ isAlive }) => isAlive)\n        .map((agent) => this.modelPredict({ model: this.modelX, agent }))\n        .concat(this.agents.O.filter(({ isAlive }) => isAlive)\n          .map((agent) => this.modelPredict({ model: this.modelO, agent })));\n\n      if (tasks.length === 0) {\n        this.step = this.fieldSize;\n      } else {\n        await Promise.all(tasks);\n      }\n\n      if (this.step === this.fieldSize) {\n        await Promise.all([\n          this.modelFit({ model: this.modelX, sign: 'X' }),\n          this.modelFit({ model: this.modelO, sign: 'O' }),\n        ]);\n\n        this.step = 1;\n      } else {\n        this.step += 1;\n      }\n    },\n\n    async modelPredict({ model, agent }) {\n      const step = this.isDuel ? this.duel.step : this.step;\n      const field = this.isDuel ? this.duel.field : agent.field;\n\n      this.increasingInterest({ field, agent });\n\n      const stepInput = this.getStepInput(step);\n      const predictions = await model.predict(tf.tensor2d([agent.rewards.concat([stepInput])])).data();\n      const cellIndex = predictions.indexOf(Math.max(...predictions));\n\n      if (field[cellIndex].length === 0) {\n        const { sign } = agent;\n        field.splice(cellIndex, 1, sign);\n\n        agent.rewards = this.recalculateRewards({ rewards: agent.rewards, field });\n        const isWinner = this.determineWinner({ field, sign });\n\n        if (isWinner) {\n          agent.isAlive = false;\n          agent.isVictory = true;\n          agent.rewards[cellIndex] = bestReward;\n\n          this.saveTraining({ type: 'winner', field, agent, stepInput });\n\n          if (this.isDuel) {\n            this.victories[sign] += 1;\n            this.victoriesStatus[sign] = true;\n          }\n        } else {\n          agent.rewards[cellIndex] = basicReward;\n          this.saveTraining({ type: 'step', field, agent, stepInput });\n        }\n      } else {\n        agent.isAlive = false;\n        agent.rewards = this.recalculateRewards({ rewards: agent.rewards, field });\n\n        this.saveTraining({ type: 'loss', field, agent, stepInput });\n      }\n    },\n\n    // Повышение интереса для хода к потенциально выигрышной ячейки противника.\n    increasingInterest({ field, agent }) {\n      const signNextTurn = agent.sign === 'X' ? 'O' : 'X';\n\n      for (let i = 0; i < field.length; i += 1) {\n        if (field[i].length === 0) {\n          field.splice(i, 1, agent.sign);\n          const isWinner = this.determineWinner({ field, sign: agent.sign });\n          field.splice(i, 1, '');\n\n          if (isWinner) {\n            agent.rewards[i] = bestReward;\n            break;\n          }\n\n          // ---\n\n          field.splice(i, 1, signNextTurn);\n          const isOtherWinner = this.determineWinner({ field, sign: signNextTurn });\n          field.splice(i, 1, '');\n\n          if (isOtherWinner) {\n            agent.rewards[i] = interestReward;\n            break;\n          }\n        }\n      }\n    },\n\n    getStepInput(step) {\n      return 1 - (step / this.fieldSize);\n    },\n\n    recalculateRewards({ rewards, field }) {\n      return rewards.map((_, index) => {\n        let reward;\n\n        if (field[index].length === 0) {\n          reward = basicReward;\n        } else {\n          reward = worstReward;\n        }\n\n        return reward;\n      });\n    },\n\n    determineWinner({ field, sign }) {\n      return hasVictory.horizontalGroup({ field, sign })\n        || hasVictory.verticalGroup({ field, sign, start: 0, step: 2 })\n        || hasVictory.obliquelyGroup({ field, sign });\n    },\n\n    saveTraining({ type, field, agent, stepInput }) {\n      const { sign, rewards: label } = agent;\n      const input = field.map((cell) => this.trafficLights({ type, sign, cell })).concat([stepInput]);\n\n      this.training[sign].inputs.push(input);\n      this.training[sign].labels.push(label);\n\n      this.trainingCount[sign] += 1;\n    },\n\n    trafficLights({ type, sign, cell }) {\n      let reward = basicReward;\n\n      // Если ячейка свободна, то это нормально, но если занято другим знаком - это плохо.\n      if (type === 'winner') {\n        if (sign === cell) {\n          reward = bestReward;\n        } else if (cell.length === 0) {\n          reward = basicReward;\n        } else {\n          reward = worstReward;\n        }\n      } else if (type === 'step') {\n        if (sign === cell) {\n          reward = stepReward;\n        } else if (cell.length === 0) {\n          reward = basicReward;\n        } else {\n          reward = worstReward;\n        }\n      } else if (type === 'loss') {\n        if (sign === cell) {\n          reward = lossReward;\n        } else if (cell.length === 0) {\n          reward = basicReward;\n        } else {\n          reward = worstReward;\n        }\n      }\n\n      return reward;\n    },\n\n    async modelFit({ model, sign }) {\n      if (this.trainingCount[sign] > 0) {\n        // Где то данные не кладутся, но счётчик увеличивается.\n        if (this.training[sign].inputs.length === 0 || this.training[sign].labels.length === 0) {\n          return;\n        }\n\n        this.trainingCount[sign] = 0;\n        this.victoriesStatus[sign] = false;\n\n        await model.fit(\n          tf.tensor2d(this.training[sign].inputs),\n          tf.tensor2d(this.training[sign].labels),\n        );\n\n        this.trainingReset(sign);\n\n        this.agentsSetting({ sign: 'X' });\n        this.agentsSetting({ sign: 'O' });\n      }\n    },\n\n    trainingReset(sign) {\n      this.training[sign].inputs = [];\n      this.training[sign].labels = [];\n    },\n\n    async setHumanSign(humanCellIndex) {\n      if (!this.AIvsHuman.isDuel) {\n        this.AIvsHuman.isDuel = true;\n\n        this.trainingReset('X');\n        this.trainingReset('O');\n      }\n\n      const { isPass } = await this.humanSignXO({ sign: 'X', cIndex: humanCellIndex });\n\n      if (isPass) {\n        await this.humanSignXO({ sign: 'O', cIndex: -1 });\n      }\n    },\n\n    async humanSignXO({ sign, cIndex }) {\n      if (this.AIvsHuman.step > this.fieldSize) {\n        this.AIvsHumanReset();\n        return { isPass: false };\n      }\n\n      this.AIvsHuman.step += 1;\n      const stepInput = this.getStepInput(this.AIvsHuman.step);\n\n      const { field } = this.AIvsHuman;\n      let cellIndex = cIndex;\n\n      if (sign === 'O') {\n        this.increasingInterest({ field, agent: this.AIvsHuman });\n\n        const predictions = await this.modelO.predict(tf.tensor2d([this.AIvsHuman.rewards.concat([stepInput])])).data();\n        cellIndex = predictions.indexOf(Math.max(...predictions));\n      }\n\n      if (field[cellIndex].length === 0) {\n        field.splice(cellIndex, 1, sign);\n\n        this.AIvsHuman.rewards = this.recalculateRewards({ rewards: this.AIvsHuman.rewards, field });\n        const isWinnerXO = this.determineWinner({ field, sign });\n\n        if (isWinnerXO) {\n          const agent = { sign, rewards: this.AIvsHuman.rewards };\n          this.saveTraining({ type: 'winner', field, agent, stepInput });\n\n          this.AIvsHuman.victories[sign] += 1;\n          await this.AIvsHumanFit();\n\n          return { isPass: false };\n        }\n\n        // Даст выход -> return { isPass: true };\n      } else {\n        this.AIvsHuman.rewards = this.recalculateRewards({ rewards: this.AIvsHuman.rewards, field });\n        const agent = { sign, rewards: this.AIvsHuman.rewards };\n        this.saveTraining({ type: 'loss', field, agent, stepInput });\n\n        this.AIvsHuman.victories[sign] -= 1;\n        await this.AIvsHumanFit();\n\n        return { isPass: false };\n      }\n\n      return { isPass: true };\n    },\n\n    async AIvsHumanFit() {\n      await Promise.all([\n        this.modelFit({ model: this.modelX, sign: 'X' }),\n        this.modelFit({ model: this.modelO, sign: 'O' }),\n      ]);\n\n      this.AIvsHumanReset();\n    },\n\n    AIvsHumanReset() {\n      this.AIvsHuman = {\n        ...this.AIvsHuman,\n        isDuel: false,\n        step: 1,\n        rewards: [\n          0.1, 0.1, 0.1,\n          0.1, 0.1, 0.1,\n          0.1, 0.1, 0.1,\n        ],\n        field: [\n          '', '', '',\n          '', '', '',\n          '', '', '',\n        ],\n      };\n    },\n\n    async saveModelsOnPC() {\n      try {\n        await Promise.all([\n          this.modelX.save('downloads://syntet_TicTacToe_model_X'),\n          this.modelO.save('downloads://syntet_TicTacToe_model_O'),\n        ]);\n      } catch (err) {\n        console.error('saveModels', err);\n      }\n    },\n\n    localStorageClear() {\n      localStorage.clear();\n    },\n\n    async restoreModelsFromGitHub() {\n      const uriModelX = './models/syntet_TicTacToe_model_X.json';\n      const uriModelO = './models/syntet_TicTacToe_model_O.json';\n\n      const [modelX, modelO] = await Promise.all([\n        tf.loadLayersModel(uriModelX),\n        tf.loadLayersModel(uriModelO),\n      ]);\n\n      modelX.compile({\n        optimizer: 'adam',\n        loss: 'meanSquaredError',\n      });\n\n      modelO.compile({\n        optimizer: 'adam',\n        loss: 'meanSquaredError',\n      });\n\n      this.modelX = modelX;\n      this.modelO = modelO;\n    },\n  },\n};\n</script>\n\n<style\n  lang=\"scss\"\n  scoped\n>\n.TicTacToe {\n  --quantity-rows: 3;\n  --quantity-columns: 3;\n  --square-size: 64px;\n\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  height: 100vh;\n  user-select: none;\n}\n\n.stat {\n  text-align: center;\n  color: white;\n\n  .title {\n    font-size: 16px;\n    font-weight: bold;\n    color: darkgray;\n\n    .X {\n      color: #c94c4c;\n    }\n\n    .O {\n      color: #034f84;\n    }\n\n    .victory {\n    }\n  }\n\n  .description {\n    font-size: 14px;\n    color: gray;\n  }\n\n  .timer {\n    font-size: 12px;\n    color: dimgray;\n  }\n}\n\n.fields-container {\n  margin-top: 20px;\n  display: flex;\n  justify-content: center;\n}\n\n.fields {\n  position: relative;\n  display: flex;\n\n  .field {\n    margin: 5px;\n    display: grid;\n    grid-template-rows: repeat(var(--quantity-rows), var(--square-size));\n    grid-template-columns: repeat(var(--quantity-columns), var(--square-size));\n    grid-gap: 1px;\n\n    .cell {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      font-size: 30px;\n      color: #999;\n      background-color: #444;\n\n      &.victory {\n        background-color: darkgoldenrod;\n      }\n    }\n\n    .caption {\n      position: absolute;\n      bottom: -20px;\n      width: 50%;\n      text-align: center;\n      font-size: 14px;\n      color: dimgray;\n    }\n  }\n}\n\n.duel-field {\n  position: relative;\n  margin: 5px;\n  display: grid;\n  grid-template-rows: repeat(var(--quantity-rows), var(--square-size));\n  grid-template-columns: repeat(var(--quantity-columns), var(--square-size));\n  grid-gap: 1px;\n\n  .cell {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    font-size: 30px;\n    font-weight: bold;\n    color: white;\n    background-color: #222;\n\n    &.X {\n      color: #c94c4c;\n    }\n\n    &.O {\n      color: #034f84;\n    }\n\n    &.victory {\n      background-color: gold;\n    }\n  }\n\n  .caption {\n    position: absolute;\n    bottom: -25px;\n    width: 100%;\n    text-align: center;\n    font-size: 14px;\n    color: dimgray;\n  }\n}\n\n.fields-description {\n  margin-top: 45px;\n  text-align: center;\n  line-height: 1;\n  font-size: 14px;\n  color: dimgray;\n}\n\n.ai-vs-human-container {\n  margin-top: 40px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  .result {\n    margin-top: 5px;\n    text-align: center;\n    font-size: 18px;\n    font-weight: bold;\n    color: gray;\n\n    .X {\n      color: #c94c4c;\n    }\n\n    .O {\n      color: #034f84;\n    }\n\n    .success {\n      color: green;\n    }\n\n    .loss {\n      color: red;\n    }\n  }\n\n  .caption {\n    text-align: center;\n    font-size: 14px;\n    font-weight: bold;\n    color: gray;\n  }\n\n  .field {\n    margin-top: 10px;\n    display: grid;\n    grid-template-rows: repeat(var(--quantity-rows), var(--square-size));\n    grid-template-columns: repeat(var(--quantity-columns), var(--square-size));\n    grid-gap: 1px;\n\n    .cell {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      font-size: 30px;\n      font-weight: bold;\n      color: white;\n      background-color: #222;\n\n      &.X {\n        color: #c94c4c;\n      }\n\n      &.O {\n        color: #034f84;\n      }\n    }\n  }\n\n  .resume {\n    margin-top: 10px;\n    color: #333;\n\n    &.is-duel {\n      color: white;\n    }\n  }\n\n  .models-controller {\n    margin-top: 10px;\n    text-align: center;\n\n    .button-container {\n      margin-top: 5px;\n    }\n  }\n}\n\n.button {\n  padding: 4px 6px;\n  border: none;\n  text-align: center;\n  color: darkgrey;\n  background-color: #222;\n  outline: none;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TicTacToe.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TicTacToe.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TicTacToe.vue?vue&type=template&id=555fc43e&scoped=true&\"\nimport script from \"./TicTacToe.vue?vue&type=script&lang=js&\"\nexport * from \"./TicTacToe.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TicTacToe.vue?vue&type=style&index=0&id=555fc43e&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"555fc43e\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"stat\"},[_vm._v(\" Живых: \"+_vm._s(_vm.alives)+\" | Поколений: \"+_vm._s(_vm.generation)+\" | Победы: \"+_vm._s(_vm.victories)+\" \")]),_c('div',{ref:\"container\",staticClass:\"container\",attrs:{\"tabindex\":\"0\"},on:{\"keyup\":[function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"up\",38,$event.key,[\"Up\",\"ArrowUp\"])){ return null; }return _vm.handleJumpTop($event)},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"right\",39,$event.key,[\"Right\",\"ArrowRight\"])){ return null; }if('button' in $event && $event.button !== 2){ return null; }return _vm.handleJumpRight($event)},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"down\",40,$event.key,[\"Down\",\"ArrowDown\"])){ return null; }return _vm.handleJumpBottom($event)},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"left\",37,$event.key,[\"Left\",\"ArrowLeft\"])){ return null; }if('button' in $event && $event.button !== 0){ return null; }return _vm.handleJumpLeft($event)}]}},[_c('div',{staticClass:\"field cells\"},_vm._l((_vm.field),function(cellValue,index){return _c('div',{key:index,class:['cell', { available: cellValue !== 0 }]},[(cellValue === 1)?_c('div',{staticClass:\"starting-checkpoint\"},[_vm._v(\" 🥾 \")]):_vm._e(),(cellValue === _vm.investigatedMaximumCellValue\n            || _vm.investigatedMaximumCellValue === _vm.maximumCellValue)?_c('div',{staticClass:\"maximum-cell-value-checkpoint\"},[_vm._v(\" 🤘 \")]):_vm._e(),(cellValue === _vm.maximumCellValue)?_c('div',{staticClass:\"finishing-checkpoint\"},[_vm._v(\" 🧠 \")]):_vm._e()])}),0),(_vm.isDisplayingActors)?_c('div',{staticClass:\"field actors\"},_vm._l((_vm.actors),function(actor){return _c('div',{key:actor.id,style:({\n          gridRow: actor.y,\n          gridColumn: actor.x,\n        })},[_c('div',{ref:(\"actors_\" + (actor.id)),refInFor:true,staticClass:\"actor\"},[_c('div',[_vm._v(\"👣️\")])])])}),0):_vm._e()])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"stat\">\n      Живых: {{ alives }} | Поколений: {{ generation }} | Победы: {{ victories }}\n    </div>\n\n    <div\n      ref=\"container\"\n      class=\"container\"\n      tabindex=\"0\"\n      @keyup.up=\"handleJumpTop\"\n      @keyup.right=\"handleJumpRight\"\n      @keyup.down=\"handleJumpBottom\"\n      @keyup.left=\"handleJumpLeft\"\n    >\n      <div class=\"field cells\">\n        <div\n          v-for=\"(cellValue, index) in field\"\n          :key=\"index\"\n          :class=\"['cell', { available: cellValue !== 0 }]\"\n        >\n          <div\n            v-if=\"cellValue === 1\"\n            class=\"starting-checkpoint\"\n          >\n            🥾\n          </div>\n\n          <div\n            v-if=\"cellValue === investigatedMaximumCellValue\n              || investigatedMaximumCellValue === maximumCellValue\"\n            class=\"maximum-cell-value-checkpoint\"\n          >\n            🤘\n          </div>\n\n          <div\n            v-if=\"cellValue === maximumCellValue\"\n            class=\"finishing-checkpoint\"\n          >\n            🧠\n          </div>\n        </div>\n      </div>\n\n      <div\n        v-if=\"isDisplayingActors\"\n        class=\"field actors\"\n      >\n        <div\n          v-for=\"actor in actors\"\n          :key=\"actor.id\"\n          :style=\"{\n            gridRow: actor.y,\n            gridColumn: actor.x,\n          }\"\n        >\n          <div\n            :ref=\"`actors_${actor.id}`\"\n            class=\"actor\"\n          >\n            <div>👣️</div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport * as tf from '@tensorflow/tfjs';\n\nconst isAutomaticControl = true;\nconst isDisplayingActors = true;\n\nconst actorsCount = 500;\nconst researchActors = 5;\nconst everyNWillResearcher = actorsCount / researchActors;\nlet everyNWillResearcherCounter = 0;\n\n/* eslint-disable no-plusplus */\nexport default {\n  name: 'Square',\n\n  data() {\n    return {\n      model: tf.sequential(),\n      // Очищаемые перед следующим поколением накопленные данные агентов для обучения.\n      training: {\n        inputs: [],\n        labels: [],\n      },\n      // Лучшие агенты в поколении из training набора на которых будет обучаться модель.\n      learning: {\n        // x, y - Координаты актёра.\n        // cellValue - Значение ячейки, до которой агент дошёл.\n        inputs: [],\n        // [1, 0, 0, 0] - Пойти на север (north).\n        // [0, 1, 0, 0] - Пойти на восток (east).\n        // [0, 0, 1, 0] - Пойти на юг (south).\n        // [0, 0, 0, 1] - Пойти на запад (west).\n        labels: [],\n      },\n      generation: 0,\n      victories: 0,\n\n      isDisplayingActors,\n      // Набор генерируемых актёров.\n      actors: [],\n      // Количество актёров оставшихся в живых.\n      alives: actorsCount,\n      // Максимальное значение пройденной ячейки.\n      investigatedMaximumCellValue: 1,\n\n      // Игровая область обязательно квадратной формы под Math.sqrt.\n      // Обязательно между доступным путём, должно быть 2 запретных ячейки\n      // из за исследовательских \"усиков\".\n      // 0 - Запретная территория.\n      // [1..N) - Проходная территория.\n      // N - Финишная точка.\n      // @formatter:off\n      /* eslint-disable no-multi-spaces */\n      field: [\n        0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,\n        0,  1,  0,  0,  0,  0,  0,  0,  0, 45, 44, 43,  0,\n        0,  2,  0,  0,  0,  0,  0,  0,  0,  0,  0, 42,  0,\n        0,  3,  0,  0,  8,  9, 10, 11,  0,  0,  0, 41,  0,\n        0,  4,  5,  6,  7,  0,  0, 12,  0,  0,  0, 40,  0,\n        0,  0,  0,  0,  0,  0,  0, 13,  0,  0,  0, 39,  0,\n        0,  0,  0,  0,  0,  0, 15, 14,  0,  0,  0, 38,  0,\n        0,  0,  0,  0,  0,  0, 16,  0,  0,  0,  0, 37,  0,\n        0,  0, 21, 20, 19, 18, 17,  0,  0,  0,  0, 36,  0,\n        0,  0, 22,  0,  0,  0,  0,  0,  0, 33, 34, 35,  0,\n        0,  0, 23,  0,  0,  0,  0,  0,  0, 32,  0,  0,  0,\n        0,  0, 24, 25, 26, 27, 28, 29, 30, 31,  0,  0,  0,\n        0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,\n      ],\n      // @formatter:on\n      /* eslint-enable no-multi-spaces */\n      fieldSize: -1,\n      maximumCellValue: -1,\n    };\n  },\n\n  async mounted() {\n    this.setupModel();\n\n    this.fieldSetting();\n    await this.actorsSetting();\n\n    if (isAutomaticControl) {\n      await this.modelPredict();\n    }\n  },\n\n  methods: {\n    setupModel() {\n      this.model.add(tf.layers.dense({\n        // Описание в learning.inputs.\n        inputShape: [3],\n        activation: 'sigmoid',\n        units: 256,\n      }));\n\n      this.model.add(tf.layers.dropout({\n        rate: 0.1,\n      }));\n\n      this.model.add(tf.layers.dense({\n        activation: 'sigmoid',\n        units: 128,\n      }));\n\n      // this.model.add(tf.layers.dropout({\n      //   rate: 0.1,\n      // }));\n      //\n      // this.model.add(tf.layers.dense({\n      //   activation: 'sigmoid',\n      //   units: 32,\n      // }));\n\n      this.model.add(tf.layers.dense({\n        activation: 'sigmoid',\n        // [north, east, south, west] - Прогноз стороны для передвижения.\n        units: 4,\n      }));\n\n      this.model.compile({\n        optimizer: tf.train.adam(0.01),\n        loss: 'meanSquaredError',\n        metrics: ['accuracy'],\n      });\n    },\n\n    fieldSetting() {\n      this.fieldSize = Math.sqrt(this.field.length);\n      this.maximumCellValue = Math.max(...this.field);\n\n      this.$refs.container.style.setProperty('--quantity-rows', this.fieldSize);\n      this.$refs.container.style.setProperty('--quantity-columns', this.fieldSize);\n    },\n\n    async actorsSetting() {\n      for (let i = 0; i < actorsCount; i++) {\n        this.actors.push({\n          id: i,\n          style: undefined,\n\n          // Сбрасываемые.\n          x: 2,\n          y: 2,\n          cellValue: 1,\n        });\n      }\n\n      if (isDisplayingActors) {\n        await this.$nextTick();\n\n        this.actors.forEach((actor) => {\n          const [{ style }] = this.$refs[`actors_${actor.id}`];\n          actor.style = style;\n        });\n      }\n    },\n\n    actorsReset() {\n      for (let i = 0; i < actorsCount; i++) {\n        this.actors[i].x = 2;\n        this.actors[i].y = 2;\n        this.actors[i].cellValue = 1;\n      }\n\n      this.alives = actorsCount;\n    },\n\n    async modelPredict() {\n      await Promise.all(this.actors.map(async (actor) => {\n        if (actor.cellValue !== 0) {\n          let prediction;\n          everyNWillResearcherCounter += 1;\n\n          if (everyNWillResearcherCounter === everyNWillResearcher) {\n            prediction = this.getRandomPredict();\n            everyNWillResearcherCounter = 0;\n          } else {\n            prediction = await this.model.predict(tf.tensor2d([\n              [\n                actor.x / this.fieldSize,\n                actor.y / this.fieldSize,\n                actor.cellValue / this.maximumCellValue,\n              ],\n            ])).data();\n\n            // console.log(\n            //   'Top', prediction[0].toFixed(10),\n            //   'Right', prediction[1].toFixed(10),\n            //   'Bottom', prediction[2].toFixed(10),\n            //   'Left', prediction[3].toFixed(10),\n            // );\n          }\n\n          const directionStep = this.getDirectionStep(prediction);\n          this[directionStep](actor);\n\n          await this.availabilityCheck(actor);\n        }\n\n        // Замедление прогноза для каждого актёра.\n        // await new Promise((resolve) => {\n        //   setTimeout(() => {\n        //     resolve();\n        //   }, 1000);\n        // });\n      }));\n\n      await this.modelPredict();\n    },\n\n    // Создание случайных решений для исследователей.\n    getRandomPredict() {\n      return [\n        Math.random(), // jumpTop\n        Math.random(), // jumpRight\n        Math.random(), // jumpBottom\n        Math.random(), // jumpLeft\n      ];\n    },\n\n    getDirectionStep([jumpTop, jumpRight, jumpBottom, jumpLeft]) {\n      let maximum = jumpTop;\n      let action = 'jumpTop';\n\n      if (jumpRight > maximum) {\n        maximum = jumpRight;\n        action = 'jumpRight';\n      }\n\n      if (jumpBottom > maximum) {\n        maximum = jumpBottom;\n        action = 'jumpBottom';\n      }\n\n      if (jumpLeft > maximum) {\n        // maximum = jumpLeft;\n        action = 'jumpLeft';\n      }\n\n      return action;\n    },\n\n    jumpTop(actor) {\n      actor.y -= 1;\n    },\n\n    jumpRight(actor) {\n      actor.x += 1;\n    },\n\n    jumpBottom(actor) {\n      actor.y += 1;\n    },\n\n    jumpLeft(actor) {\n      actor.x -= 1;\n    },\n\n    async availabilityCheck(actor) {\n      // Смещение на -1: Сетка начинается с 1, а значения в массиве начинаются с 0.\n      const normalY = actor.y - 1;\n      const normalX = actor.x - 1;\n      const cellValue = this.field[normalY * this.fieldSize + normalX];\n\n      // Предотвращение зацикливания. Актёр не должен двигаться в обратном направлении.\n      if (cellValue > actor.cellValue) {\n        actor.cellValue = cellValue;\n\n        if (cellValue > this.investigatedMaximumCellValue) {\n          this.investigatedMaximumCellValue = cellValue;\n        }\n\n        if (cellValue === this.maximumCellValue) {\n          this.victories += 1;\n          await this.actorsReset();\n          return;\n        }\n      } else {\n        actor.cellValue = 0;\n        this.alives -= 1;\n      }\n\n      this.saveTraining({ actor, label: this.getAntennaCellValues({ normalX, normalY }) });\n\n      if (this.alives === 0) {\n        await this.modelFit();\n      }\n    },\n\n    // Получение значения ячейки, чем дальше ячейка от старта, тем больше там значение.\n    getAntennaCellValues({ normalX, normalY }) {\n      // 0 - когда выходит за пределы поля (дальше пути нет).\n      const topCellValue = this.field[(normalY - 1) * this.fieldSize + normalX] || 0;\n      const rightCellValue = this.field[normalY * this.fieldSize + (normalX + 1)] || 0;\n      const bottomCellValue = this.field[(normalY + 1) * this.fieldSize + normalX] || 0;\n      const leftCellValue = this.field[normalY * this.fieldSize + (normalX - 1)] || 0;\n\n      return [\n        topCellValue / this.maximumCellValue,\n        rightCellValue / this.maximumCellValue,\n        bottomCellValue / this.maximumCellValue,\n        leftCellValue / this.maximumCellValue,\n      ];\n    },\n\n    saveTraining({ actor, label }) {\n      this.training.inputs.push([\n        actor.x / this.fieldSize,\n        actor.y / this.fieldSize,\n        actor.cellValue / this.maximumCellValue,\n      ]);\n\n      this.training.labels.push(label);\n    },\n\n    async modelFit() {\n      const {\n        firstInput,\n        firstLabel,\n\n        secondInput,\n        secondLabel,\n\n        thirdInput,\n        thirdLabel,\n\n        fourInput,\n        fourLabel,\n\n        fiveInput,\n        fiveLabel,\n      } = this.getBestMoves();\n\n      this.learning.inputs.push(\n        firstInput,\n        secondInput,\n        thirdInput,\n        fourInput,\n        fiveInput,\n      );\n\n      this.learning.labels.push(\n        firstLabel,\n        secondLabel,\n        thirdLabel,\n        fourLabel,\n        fiveLabel,\n      );\n\n      await this.model.fit(\n        tf.tensor2d(this.learning.inputs),\n        tf.tensor2d(this.learning.labels),\n      );\n\n      this.generation += 1;\n      await this.actorsReset();\n    },\n\n    getBestMoves() {\n      const { inputs, labels } = this.training;\n      this.training = { inputs: [], labels: [] };\n\n      let fiveCellValue = -1;\n      let fourCellValue = -1;\n      let thirdCellValue = -1;\n      let secondCellValue = -1;\n      let firstCellValue = -1;\n\n      let fiveIndex = -1;\n      let fourIndex = -1;\n      let thirdIndex = -1;\n      let secondIndex = -1;\n      let firstIndex = -1;\n\n      /* eslint-disable vue/script-indent */\n      inputs.forEach(([, , cellValue], index) => {\n        switch (true) {\n          case cellValue > firstCellValue:\n            fiveCellValue = fourCellValue;\n            fourCellValue = thirdCellValue;\n            thirdCellValue = secondCellValue;\n            secondCellValue = firstCellValue;\n            firstCellValue = cellValue;\n\n            fiveIndex = fourIndex;\n            fourIndex = thirdIndex;\n            thirdIndex = secondIndex;\n            secondIndex = firstIndex;\n            firstIndex = index;\n            break;\n\n          case cellValue > secondCellValue:\n            fiveCellValue = fourCellValue;\n            fourCellValue = thirdCellValue;\n            thirdCellValue = secondCellValue;\n            secondCellValue = cellValue;\n\n            fiveIndex = fourIndex;\n            fourIndex = thirdIndex;\n            thirdIndex = secondIndex;\n            secondIndex = index;\n            break;\n\n          case cellValue > thirdCellValue:\n            fiveCellValue = fourCellValue;\n            fourCellValue = thirdCellValue;\n            thirdCellValue = cellValue;\n\n            fiveIndex = fourIndex;\n            fourIndex = thirdIndex;\n            thirdIndex = index;\n            break;\n\n          case cellValue > fourCellValue:\n            fiveCellValue = fourCellValue;\n            fourCellValue = cellValue;\n\n            fiveIndex = fourIndex;\n            fourIndex = index;\n            break;\n\n          case cellValue > fiveCellValue:\n            fiveCellValue = cellValue;\n\n            fiveIndex = index;\n            break;\n\n          default:\n        }\n      });\n\n      return {\n        firstInput: inputs[firstIndex],\n        firstLabel: labels[firstIndex],\n\n        secondInput: inputs[secondIndex],\n        secondLabel: labels[secondIndex],\n\n        thirdInput: inputs[thirdIndex],\n        thirdLabel: labels[thirdIndex],\n\n        fourInput: inputs[fourIndex],\n        fourLabel: labels[fourIndex],\n\n        fiveInput: inputs[fiveIndex],\n        fiveLabel: labels[fiveIndex],\n      };\n    },\n\n    // Специально для ручного управления.\n    async handleJumpTop() {\n      const [actor] = this.actors;\n\n      this.jumpTop(actor);\n      await this.availabilityCheck(actor);\n    },\n\n    async handleJumpRight() {\n      const [actor] = this.actors;\n\n      this.jumpRight(actor);\n      await this.availabilityCheck(actor);\n    },\n\n    async handleJumpBottom() {\n      const [actor] = this.actors;\n\n      this.jumpBottom(actor);\n      await this.availabilityCheck(actor);\n    },\n\n    async handleJumpLeft() {\n      const [actor] = this.actors;\n\n      this.jumpLeft(actor);\n      await this.availabilityCheck(actor);\n    },\n  },\n};\n</script>\n\n<style scoped>\n.stat {\n  position: absolute;\n  margin-top: 1rem;\n  width: 100%;\n  text-align: center;\n  font-size: 1.2rem;\n  color: white;\n}\n\n.container {\n  --quantity-rows: -1;\n  --quantity-columns: -1;\n  --square-size: 3rem;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100vh;\n  outline: none;\n  user-select: none;\n}\n\n.field {\n  display: grid;\n  grid-template-rows: repeat(var(--quantity-rows), var(--square-size));\n  grid-template-columns: repeat(var(--quantity-columns), var(--square-size));\n  grid-gap: 0.5rem;\n}\n\n.cells {\n}\n\n.cell {\n  position: relative;\n  background-color: #222;\n}\n\n.available {\n  background-color: darkcyan;\n}\n\n.starting-checkpoint,\n.maximum-cell-value-checkpoint,\n.finishing-checkpoint {\n  position: absolute;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n  font-size: 2rem;\n  background-color: seagreen;\n  outline: 0.5rem dashed seagreen;\n}\n\n.maximum-cell-value-checkpoint {\n  background-color: brown;\n  outline: 0.5rem dashed brown;\n}\n\n.actors {\n  position: absolute;\n}\n\n.actor {\n  height: 100%;\n  text-align: center;\n  font-size: 2rem;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Square.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Square.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Square.vue?vue&type=template&id=1da70bd2&scoped=true&\"\nimport script from \"./Square.vue?vue&type=script&lang=js&\"\nexport * from \"./Square.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Square.vue?vue&type=style&index=0&id=1da70bd2&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1da70bd2\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"Snake\"},[_c('div',{staticClass:\"text-container\"},[_c('div',{staticClass:\"message\"},[_vm._v(\" Ручное управление WASD \")]),_c('div',{staticClass:\"steps-count\"},[_vm._v(\" Количество оставшихся ходов: \"+_vm._s(_vm.maximumStepsCount - _vm.stepsCount)+\" \")]),_c('div',{staticClass:\"timer\"},[_vm._v(\" Время обучения: \"+_vm._s(_vm.timer)+\" секунд (~\"+_vm._s(Math.round(_vm.timer / 60))+\" минут) \")]),_c('div',{staticClass:\"lives\"},[_vm._v(\" Сыграно жизней: \"+_vm._s(_vm.lives)+\" \")]),_c('div',{staticClass:\"actors-container\"},[_c('div',{staticClass:\"title\"},[_vm._v(\" Собрано яблок за жизнь \")]),_vm._l((Object.values(_vm.actors)),function(actor){return _c('div',{key:actor.name,staticClass:\"actor\"},[_c('div',{staticClass:\"name\",style:({ color: actor.colorHead })},[_vm._v(\" \"+_vm._s(actor.name)+\": \")]),(_vm.stats[actor.name])?_c('div',{staticClass:\"stats\",style:({ color: actor.colorHead })},[_vm._v(\" \"+_vm._s(_vm.stats[actor.name].maxApples)+\" \")]):_vm._e()])})],2)]),_c('div',{staticClass:\"field\"},_vm._l((_vm.field),function(row,rowIndex){return _c('div',{key:rowIndex,staticClass:\"row\"},_vm._l((row),function(cell,cellIndex){return _c('div',{key:(rowIndex + \"_\" + cellIndex),staticClass:\"cell\",style:({ backgroundColor: cell })})}),0)}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"Snake\">\n    <div class=\"text-container\">\n      <div class=\"message\">\n        Ручное управление WASD\n      </div>\n\n      <div class=\"steps-count\">\n        Количество оставшихся ходов: {{ maximumStepsCount - stepsCount }}\n      </div>\n\n      <div class=\"timer\">\n        Время обучения: {{ timer }} секунд (~{{ Math.round(timer / 60) }} минут)\n      </div>\n\n      <div class=\"lives\">\n        Сыграно жизней: {{ lives }}\n      </div>\n\n      <div class=\"actors-container\">\n        <div class=\"title\">\n          Собрано яблок за жизнь\n        </div>\n\n        <div\n          v-for=\"actor in Object.values(actors)\"\n          :key=\"actor.name\"\n          class=\"actor\"\n        >\n          <div\n            :style=\"{ color: actor.colorHead }\"\n            class=\"name\"\n          >\n            {{ actor.name }}:\n          </div>\n\n          <div\n            v-if=\"stats[actor.name]\"\n            :style=\"{ color: actor.colorHead }\"\n            class=\"stats\"\n          >\n            {{ stats[actor.name].maxApples }}\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"field\">\n      <div\n        v-for=\"(row, rowIndex) in field\"\n        :key=\"rowIndex\"\n        class=\"row\"\n      >\n        <div\n          v-for=\"(cell, cellIndex) in row\"\n          :key=\"`${rowIndex}_${cellIndex}`\"\n          :style=\"{ backgroundColor: cell }\"\n          class=\"cell\"\n        >\n          <!-- {{ rowIndex }} {{ cellIndex }}-->\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport * as tf from '@tensorflow/tfjs';\nimport { nanoid } from 'nanoid';\nimport cloneDeep from 'clone-deep';\n\nconst barrierColor = '#111';\nconst basicColor = '#222';\nconst appleColor = 'green';\n\nconst actorsColors = [\n  // human\n  'rgba(201, 52, 65, 1.0)',\n  'rgba(201, 52, 65, 0.5)',\n\n  // ai\n  'rgba(34, 95, 228, 1.0)',\n  'rgba(34, 95, 228, 0.5)',\n];\n\nconst barriersColors = [\n  ...actorsColors,\n  barrierColor,\n];\n\nconst keysWASD = {\n  KeyW: 'stepTop',\n  KeyD: 'stepRight',\n  KeyS: 'stepBottom',\n  KeyA: 'stepLeft',\n};\n\nconst indexSides = {\n  0: 'stepTop',\n  1: 'stepRight',\n  2: 'stepBottom',\n  3: 'stepLeft',\n};\n\nconst sidesIndex = {\n  stepTop: 0,\n  stepRight: 1,\n  stepBottom: 2,\n  stepLeft: 3,\n};\n\nconst numberSides = Object.keys(indexSides).length;\n\nconst isDevelopment = false;\nconst autoMovementDelay = 100;\n\nconst fieldSize = 40;\nconst stepsCountMultiplier = 5;\nconst applesCount = 1;\n\nconst hiddenLayers = 1;\nconst units = 1000;\nconst epochs = 1;\n\nconst terribleReward = -0.9;\nconst badReward = -0.1;\nconst basicReward = 0.1;\nconst goodReward = 0.4;\nconst bestReward = 0.9;\n\nconst decreaseMultiplier = 0.4;\nconst increaseMultiplier = 1.1;\n\nlet isFitting = false;\nlet nextFrameId = -1;\n\nconst startPositions = {\n  center: [\n    { id: nanoid(), position: { y: 9, x: 7 } },\n    { id: nanoid(), position: { y: 9, x: 8 } },\n    { id: nanoid(), position: { y: 8, x: 8 } },\n    { id: nanoid(), position: { y: 7, x: 8 } },\n    { id: nanoid(), position: { y: 7, x: 7 } },\n  ],\n  topLeft: [\n    { id: nanoid(), position: { y: 7, x: 3 } },\n    { id: nanoid(), position: { y: 6, x: 3 } },\n    { id: nanoid(), position: { y: 5, x: 3 } },\n    { id: nanoid(), position: { y: 4, x: 3 } },\n    { id: nanoid(), position: { y: 3, x: 3 } },\n  ],\n  topRight: [\n    { id: nanoid(), position: { y: 3, x: fieldSize - 8 } },\n    { id: nanoid(), position: { y: 3, x: fieldSize - 7 } },\n    { id: nanoid(), position: { y: 3, x: fieldSize - 6 } },\n    { id: nanoid(), position: { y: 3, x: fieldSize - 5 } },\n    { id: nanoid(), position: { y: 3, x: fieldSize - 4 } },\n  ],\n  bottomRight: [\n    { id: nanoid(), position: { y: fieldSize - 8, x: fieldSize - 4 } },\n    { id: nanoid(), position: { y: fieldSize - 7, x: fieldSize - 4 } },\n    { id: nanoid(), position: { y: fieldSize - 6, x: fieldSize - 4 } },\n    { id: nanoid(), position: { y: fieldSize - 5, x: fieldSize - 4 } },\n    { id: nanoid(), position: { y: fieldSize - 4, x: fieldSize - 4 } },\n  ],\n  bottomLeft: [\n    { id: nanoid(), position: { y: fieldSize - 4, x: 7 } },\n    { id: nanoid(), position: { y: fieldSize - 4, x: 6 } },\n    { id: nanoid(), position: { y: fieldSize - 4, x: 5 } },\n    { id: nanoid(), position: { y: fieldSize - 4, x: 4 } },\n    { id: nanoid(), position: { y: fieldSize - 4, x: 3 } },\n  ],\n};\n\nexport default {\n  name: 'Snake',\n\n  data() {\n    return {\n      field: [[]],\n      fieldDefault: [[]],\n      fieldSize,\n\n      actors: {\n        human: {\n          name: 'human',\n          side: 'stepBottom',\n\n          colorHead: actorsColors[0],\n          colorTail: actorsColors[1],\n          cells: cloneDeep(startPositions.topLeft),\n\n          model: tf.sequential(),\n          training: { inputs: [], labels: [] },\n          rewards: Array(numberSides).fill(basicReward),\n        },\n        // ai: {\n        //   name: 'ai',\n        //   side: 'stepTop',\n        //\n        //   colorHead: actorsColors[2],\n        //   colorTail: actorsColors[3],\n        //   cells: cloneDeep(startPositions.bottomRight),\n        //\n        //   model: tf.sequential(),\n        //   training: { inputs: [], labels: [] },\n        //   rewards: Array(numberSides).fill(basicReward),\n        // },\n      },\n      actorsDefault: {},\n\n      stats: {}, // Инициализируется в initialStats на основе actors.\n      stepsCount: 0,\n      maximumStepsCount: fieldSize * stepsCountMultiplier,\n      timer: 0,\n      lives: 0,\n      everyLives: 300,\n\n      apples: [],\n\n      mode: isDevelopment ? 'gaming' : 'training',\n      isRunning: true,\n    };\n  },\n\n  mounted() {\n    this.incrementTimer();\n\n    this.initialField();\n    this.initialApples();\n    this.initialActors();\n    this.initialStats();\n\n    // this.chooseActorsPosition();\n\n    this.autoStep();\n    window.addEventListener('keydown', this.handleKeys);\n  },\n\n  destroyed() {\n    window.removeEventListener('keydown', this.handleKeys);\n  },\n\n  methods: {\n    incrementTimer() {\n      setTimeout(this.incrementTimer, 1000);\n      this.timer += 1;\n    },\n\n    initialField() {\n      const field = Array(fieldSize);\n\n      for (let y = 0; y < fieldSize; y += 1) {\n        field[y] = Array(fieldSize);\n\n        for (let x = 0; x < fieldSize; x += 1) {\n          const isBarrier = y <= 0 || y >= fieldSize - 1 || x <= 0 || x >= fieldSize - 1;\n          field[y][x] = isBarrier ? barrierColor : basicColor;\n        }\n      }\n\n      // todo статичные преграды\n      // field[10][3] = barrierColor;\n      // field[10][4] = barrierColor;\n      // field[10][5] = barrierColor;\n      // field[10][6] = barrierColor;\n      // field[10][7] = barrierColor;\n      // field[10][8] = barrierColor;\n      // field[10][9] = barrierColor;\n      // field[10][10] = barrierColor;\n      // field[10][11] = barrierColor;\n\n      this.field = field;\n      this.fieldDefault = cloneDeep(this.field);\n    },\n\n    initialApples() {\n      for (let i = 0; i < applesCount; i += 1) {\n        this.apples.push({ y: -1, x: -1 });\n      }\n\n      this.apples.forEach(this.addApple);\n    },\n\n    addApple(coords) {\n      const y = Math.round(Math.random() * (fieldSize - 1));\n      const x = Math.round(Math.random() * (fieldSize - 1));\n\n      if (this.field[y][x] === basicColor) {\n        coords.y = y;\n        coords.x = x;\n\n        this.field[y][x] = appleColor;\n      } else {\n        this.addApple(coords);\n      }\n    },\n\n    initialActors() {\n      Object.values(this.actors).forEach(this.setupModel);\n      this.actorsDefault = cloneDeep(this.actors);\n\n      this.resetActors();\n    },\n\n    resetActors() {\n      Object.values(this.actors).forEach((actor) => {\n        actor.cells.forEach(({ position: { y, x } }, cellIndex) => {\n          this.field[y][x] = cellIndex === 0 ? actor.colorHead : actor.colorTail;\n        });\n\n        this.resetRewards(actor);\n      });\n    },\n\n    resetRewards(actor) {\n      actor.rewards = actor.rewards.map(() => basicReward);\n    },\n\n    initialStats() {\n      Object.values(this.actors).forEach((actor) => {\n        this.stats[actor.name] = {\n          apples: 0,\n          maxApples: 0,\n        };\n      });\n    },\n\n    resetStats() {\n      Object.values(this.actors).forEach((actor) => {\n        this.stats[actor.name].apples = 0;\n      });\n    },\n\n    chooseActorsPosition() {\n      const positions = Object.keys(startPositions);\n      const position = positions[Math.round((positions.length - 1) * Math.random())];\n\n      Object.values(this.actors).forEach((actor) => {\n        actor.cells = cloneDeep(startPositions[position]);\n      });\n    },\n\n    handleKeys({ code }) {\n      const side = keysWASD[code];\n\n      if (side) {\n        this.mode = 'gaming';\n        this.actors.human.side = side;\n      }\n    },\n\n    async autoStep() {\n      if (this.isRunning) {\n        await this.modelsPredicts();\n      }\n\n      if (this.mode === 'training') {\n        nextFrameId = requestAnimationFrame(this.autoStep);\n      } else if (this.mode === 'gaming') {\n        nextFrameId = setTimeout(this.autoStep, autoMovementDelay);\n      }\n    },\n\n    step(actor) {\n      this.clearTail(actor);\n      this.stepTail(actor);\n      this.stepHead(actor);\n    },\n\n    clearTail({ cells }) {\n      const { position: { y, x } } = cells[cells.length - 1];\n      this.field[y][x] = basicColor;\n    },\n\n    stepTail(actor) {\n      for (let i = actor.cells.length - 1; i > 0; i -= 1) {\n        const cell = actor.cells[i];\n        cell.position = actor.cells[i - 1].position;\n\n        const { position: { y, x } } = cell;\n        this.field[y][x] = actor.colorTail;\n      }\n    },\n\n    stepHead(actor) {\n      const [cellHead] = actor.cells;\n      const { y, x } = this[actor.side](cellHead.position);\n\n      this.nextCell({ actor, cellHead, y, x });\n    },\n\n    stepTop({ y, x }) {\n      return { y: y - 1, x };\n    },\n\n    stepRight({ y, x }) {\n      return { y, x: x + 1 };\n    },\n\n    stepBottom({ y, x }) {\n      return { y: y + 1, x };\n    },\n\n    stepLeft({ y, x }) {\n      return { y, x: x - 1 };\n    },\n\n    nextCell({ actor, cellHead, y, x }) {\n      const nextColor = this.field[y][x];\n\n      if (barriersColors.includes(nextColor)) {\n        this.preserveExperience({ type: 'decrease', actor });\n        this.gameOver();\n      } else if (nextColor === appleColor) {\n        this.preserveExperience({ type: 'increase', actor });\n        this.growth({ actor, y, x });\n        this.applyNextCell({ actor, cellHead, y, x });\n\n        const coords = this.apples.find((a) => `${a.y}_${a.x}` === `${y}_${x}`);\n        this.addApple(coords);\n\n        this.appleFit();\n      } else {\n        this.preserveExperience({ type: 'pass', actor });\n        this.applyNextCell({ actor, cellHead, y, x });\n      }\n    },\n\n    applyNextCell({ actor, cellHead, y, x }) {\n      cellHead.position = { y, x };\n      this.field[y][x] = actor.colorHead;\n    },\n\n    growth({ actor, y, x }) {\n      this.stats[actor.name].apples += 1;\n\n      if (this.stats[actor.name].apples > this.stats[actor.name].maxApples) {\n        this.stats[actor.name].maxApples = this.stats[actor.name].apples;\n      }\n\n      this.stepsCount = 0;\n\n      actor.cells.push({\n        id: nanoid(),\n        position: { y, x },\n      });\n    },\n\n    gameOver() {\n      this.isRunning = false;\n      this.stepsCount = 0;\n\n      cancelAnimationFrame(nextFrameId);\n      clearTimeout(nextFrameId);\n      nextFrameId = -1;\n\n      this.modelFit(() => {\n        this.field = cloneDeep(this.fieldDefault);\n        this.actors = cloneDeep(this.actorsDefault);\n\n        // this.chooseActorsPosition();\n\n        this.resetActors();\n        this.resetStats();\n\n        this.apples.forEach(this.addApple);\n\n        this.mode = isDevelopment ? 'gaming' : 'training';\n        this.isRunning = true;\n      });\n    },\n\n    // ----------------------------------------- Алгоритм ML -------------------------------------------------\n\n    setupModel({ model }) {\n      model.add(tf.layers.dense({\n        inputShape: [\n          // +4 - Занятость ближних ячеек.\n          // +4 - Направления яблока.\n          // +1 - Расстояние до ближнего яблока.\n          // +1 - Количество ходов.\n          numberSides + numberSides + 1 + 1,\n        ],\n        activation: 'relu',\n        units,\n      }));\n\n      for (let i = 0; i < hiddenLayers; i += 1) {\n        model.add(tf.layers.dense({\n          activation: 'relu',\n          units,\n        }));\n      }\n\n      model.add(tf.layers.dense({\n        activation: 'sigmoid',\n        units: numberSides,\n      }));\n\n      model.compile({\n        optimizer: 'adam',\n        loss: 'meanSquaredError',\n      });\n    },\n\n    async modelsPredicts() {\n      await Promise.all(Object.values(this.actors).map((actor) => (async () => {\n        if (this.mode === 'gaming' && actor.name === 'human') {\n          await this.modelPredict(actor);\n        } else {\n          const indexSide = await this.modelPredict(actor);\n          actor.side = indexSides[indexSide];\n        }\n\n        this.step(actor);\n      })()));\n\n      this.stepsCount += 1;\n\n      if (this.stepsCount === this.maximumStepsCount) {\n        this.gameOver();\n      }\n    },\n\n    async modelPredict(actor) {\n      const dataInputs = this.assessment(actor);\n      this.whichSidesOfApples(actor);\n\n      const inputs = dataInputs.concat(actor.rewards);\n      const sides = await actor.model.predict(tf.tensor2d([inputs])).data();\n\n      // if (this.lives % this.everyLives === 0) {\n      //   console.log('modelPredict', sides);\n      // }\n\n      return sides.indexOf(Math.max(...sides));\n    },\n\n    assessment(actor) {\n      const [{ position: actorHead }] = actor.cells;\n      const inputs = [];\n\n      Object.keys(sidesIndex).forEach((side) => {\n        const { y: nextY, x: nextX } = this[side]({ y: actorHead.y, x: actorHead.x });\n        const nextColor = this.field[nextY][nextX];\n\n        if (barriersColors.includes(nextColor)) {\n          inputs.push(terribleReward);\n        } else if (nextColor === appleColor) {\n          inputs.push(bestReward);\n        } else {\n          inputs.push(goodReward);\n        }\n      });\n\n      inputs.push(this.getDippedAppleReward(actorHead));\n      inputs.push(this.estimateNumberMoves());\n\n      return inputs;\n    },\n\n    getDippedAppleReward(actorHead) {\n      let appleReward = 0;\n\n      this.apples.forEach((apple) => {\n        const distance = this.distanceToApple({ apple, actorHead });\n        const reward = (fieldSize - distance) / fieldSize;\n\n        if (reward > appleReward) {\n          appleReward = reward;\n        }\n      });\n\n      return appleReward;\n    },\n\n    distanceToApple({ apple, actorHead }) {\n      const x = (apple.x - actorHead.x) ** 2;\n      const y = (apple.y - actorHead.y) ** 2;\n\n      return Math.sqrt(x + y);\n    },\n\n    estimateNumberMoves() {\n      if (this.stepsCount < fieldSize * 0.5) {\n        return bestReward;\n      }\n\n      if (this.stepsCount < fieldSize) {\n        return goodReward;\n      }\n\n      if (this.stepsCount < fieldSize * 1.5) {\n        return basicReward;\n      }\n\n      return badReward;\n    },\n\n    // todo врезяется в себя при поворотах\n    preserveExperience({ type, actor }) {\n      const dataInputs = this.assessment(actor);\n      this.whichSidesOfApples(actor);\n\n      const inputs = dataInputs.concat(actor.rewards);\n\n      actor.training.inputs.push(inputs);\n      actor.training.labels.push(actor.rewards);\n\n      if (type === 'decrease') {\n        actor.training.inputs = actor.training.inputs\n          .map((trainInputs) => trainInputs.map((input) => input * decreaseMultiplier));\n\n        actor.training.labels = actor.training.labels\n          .map((trainLabels) => trainLabels.map((label) => label * decreaseMultiplier));\n      } else if (type === 'increase') {\n        actor.training.inputs = actor.training.inputs\n          .map((trainInputs) => trainInputs.map((input) => input * increaseMultiplier));\n\n        actor.training.labels = actor.training.labels\n          .map((trainLabels) => trainLabels.map((label) => label * increaseMultiplier));\n      }\n\n      // if (isDevelopment) {\n      //   console.log('---');\n      //   actor.training.inputs.forEach((input) => console.log(input));\n      //   actor.training.labels.forEach((label) => console.log(label));\n      //   console.log(actor.rewards);\n      // }\n\n      this.resetRewards(actor);\n    },\n\n    whichSidesOfApples(actor) {\n      const [{ position: actorHead }] = actor.cells;\n\n      this.apples.forEach((apple) => {\n        if (apple.x === actorHead.x) {\n          this.appleOnAxisX({ apple, actor, actorHead });\n        } else if (apple.y === actorHead.y) {\n          this.appleOnAxisY({ apple, actor, actorHead });\n        } else if (apple.y < actorHead.y) {\n          this.appleBelowAxisY({ apple, actor, actorHead });\n        } else if (apple.y > actorHead.y) {\n          this.appleAboveAxisY({ apple, actor, actorHead });\n        }\n      });\n    },\n\n    appleOnAxisX({ apple, actor, actorHead }) {\n      if (apple.y < actorHead.y) {\n        this.appleTop(actor);\n      } else if (apple.y > actorHead.y) {\n        this.appleBottom(actor);\n      }\n    },\n\n    appleTop(actor) {\n      actor.rewards[sidesIndex.stepTop] = bestReward;\n      actor.rewards[sidesIndex.stepBottom] = terribleReward;\n    },\n\n    appleBottom(actor) {\n      actor.rewards[sidesIndex.stepBottom] = bestReward;\n      actor.rewards[sidesIndex.stepTop] = terribleReward;\n    },\n\n    appleOnAxisY({ apple, actor, actorHead }) {\n      if (apple.x > actorHead.x) {\n        this.appleRight(actor);\n      } else if (apple.x < actorHead.x) {\n        this.appleLeft(actor);\n      }\n    },\n\n    appleRight(actor) {\n      actor.rewards[sidesIndex.stepRight] = bestReward;\n      actor.rewards[sidesIndex.stepLeft] = terribleReward;\n    },\n\n    appleLeft(actor) {\n      actor.rewards[sidesIndex.stepLeft] = bestReward;\n      actor.rewards[sidesIndex.stepRight] = terribleReward;\n    },\n\n    appleBelowAxisY({ apple, actor, actorHead }) {\n      if (apple.x < actorHead.x) {\n        this.appleTopLeft(actor);\n      } else if (apple.x > actorHead.x) {\n        this.appleTopRight(actor);\n      }\n    },\n\n    appleTopLeft(actor) {\n      actor.rewards[sidesIndex.stepTop] = goodReward;\n      actor.rewards[sidesIndex.stepLeft] = goodReward;\n\n      actor.rewards[sidesIndex.stepRight] = badReward;\n      actor.rewards[sidesIndex.stepBottom] = badReward;\n    },\n\n    appleTopRight(actor) {\n      actor.rewards[sidesIndex.stepTop] = goodReward;\n      actor.rewards[sidesIndex.stepRight] = goodReward;\n\n      actor.rewards[sidesIndex.stepBottom] = badReward;\n      actor.rewards[sidesIndex.stepLeft] = badReward;\n    },\n\n    appleAboveAxisY({ apple, actor, actorHead }) {\n      if (apple.x > actorHead.x) {\n        this.appleBottomRight(actor);\n      } else if (apple.x < actorHead.x) {\n        this.appleBottomLeft(actor);\n      }\n    },\n\n    appleBottomRight(actor) {\n      actor.rewards[sidesIndex.stepRight] = goodReward;\n      actor.rewards[sidesIndex.stepBottom] = goodReward;\n\n      actor.rewards[sidesIndex.stepTop] = badReward;\n      actor.rewards[sidesIndex.stepLeft] = badReward;\n    },\n\n    appleBottomLeft(actor) {\n      actor.rewards[sidesIndex.stepBottom] = goodReward;\n      actor.rewards[sidesIndex.stepLeft] = goodReward;\n\n      actor.rewards[sidesIndex.stepTop] = badReward;\n      actor.rewards[sidesIndex.stepRight] = badReward;\n    },\n\n    appleFit() {\n      this.isRunning = false;\n\n      cancelAnimationFrame(nextFrameId);\n      clearTimeout(nextFrameId);\n      nextFrameId = -1;\n\n      this.modelFit(() => {\n        this.mode = isDevelopment ? 'gaming' : 'training';\n        this.isRunning = true;\n      });\n    },\n\n    modelFit(callbackAtEndTraining) {\n      // Обучение происходит для всех, поэтому требуется только одно выполнение.\n      if (isFitting) {\n        return;\n      }\n\n      isFitting = true;\n      this.lives += 1;\n\n      Promise.all(Object.values(this.actors).map(async (actor) => {\n        if (actor.training.labels.length > 0) {\n          await actor.model.fit(\n            tf.tensor2d(actor.training.inputs),\n            tf.tensor2d(actor.training.labels),\n            { epochs },\n          );\n\n          actor.training.inputs = [];\n          actor.training.labels = [];\n        }\n      })).then(async () => {\n        // await new Promise((resolve) => {\n        //   setTimeout(resolve, autoMovementDelay);\n        // });\n\n        isFitting = false;\n        callbackAtEndTraining();\n      });\n    },\n  },\n};\n</script>\n\n<style\n  lang=\"scss\"\n  scoped\n>\n.Snake {\n  --size: 20px;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100vh;\n  user-select: none;\n  outline: none;\n\n  .text-container {\n    text-align: center;\n\n    .message {\n      margin-top: 10px;\n      text-align: center;\n      color: gray;\n    }\n\n    .steps-count {\n      text-align: center;\n      color: dimgray;\n    }\n\n    .timer {\n      font-size: 14px;\n      color: dimgray;\n    }\n\n    .lives {\n      font-size: 14px;\n      color: dimgray;\n    }\n\n    .actors-container {\n      margin-top: 20px;\n\n      .title {\n        font-size: 16px;\n        color: gray;\n      }\n\n      .actor {\n        display: flex;\n        justify-content: center;\n\n        .name {\n          padding-right: 10px;\n          text-transform: uppercase;\n        }\n\n        .stats {\n          font-weight: bold;\n          min-width: 30px;\n        }\n      }\n    }\n  }\n\n  .field {\n    margin-left: 20px;\n\n    .row {\n      display: flex;\n\n      .cell {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        width: var(--size);\n        height: var(--size);\n        font-size: 10px;\n        color: #777;\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Snake.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Snake.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Snake.vue?vue&type=template&id=3d30464a&scoped=true&\"\nimport script from \"./Snake.vue?vue&type=script&lang=js&\"\nexport * from \"./Snake.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Snake.vue?vue&type=style&index=0&id=3d30464a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3d30464a\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue';\nimport VueRouter from 'vue-router';\n\nimport App from '@/App.vue';\nimport TicTacToe from '@/TicTacToe/TicTacToe.vue';\nimport Square from '@/Square.vue';\n\nimport Snake from '@/Snake.vue';\n// import Puppet from '@/Puppet.vue';\n// import Cart from '@/Cart.vue';\n// import Bird from '@/Bird.vue';\n\nVue.use(VueRouter);\n\nVue.config.productionTip = false;\nVue.config.silent = process.env.NODE_ENV === 'production';\n\nnew Vue({\n  name: 'App',\n  render: (h) => h(App),\n  router: new VueRouter({\n    routes: [\n      {\n        path: '/',\n        name: 'App',\n        meta: { isReload: false },\n        component: App,\n        redirect: { name: 'TicTacToe' },\n      },\n      {\n        path: '/TicTacToe',\n        name: 'TicTacToe',\n        meta: { isReload: true },\n        component: TicTacToe,\n      },\n      {\n        path: '/Square',\n        name: 'Square',\n        meta: { isReload: true },\n        component: Square,\n      },\n      {\n        path: '/Snake',\n        name: 'Snake',\n        meta: { isReload: true },\n        component: Snake,\n      },\n      // {\n      //   path: '/Puppet',\n      //   name: 'Puppet',\n      //   meta: { isReload: true },\n      //   component: Puppet,\n      // },\n      // {\n      //   path: '/Cart',\n      //   name: 'Cart',\n      //   meta: { isReload: true },\n      //   component: Cart,\n      // },\n      // {\n      //   path: '/Bird',\n      //   name: 'Bird',\n      //   meta: { isReload: true },\n      //   component: Bird,\n      // }, }),\n    ],\n  }),\n}).$mount('#app');\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TicTacToe.vue?vue&type=style&index=0&id=555fc43e&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TicTacToe.vue?vue&type=style&index=0&id=555fc43e&lang=scss&scoped=true&\"","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Square.vue?vue&type=style&index=0&id=1da70bd2&scoped=true&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Square.vue?vue&type=style&index=0&id=1da70bd2&scoped=true&lang=css&\""],"sourceRoot":""}